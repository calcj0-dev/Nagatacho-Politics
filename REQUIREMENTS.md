# 政治家トレーディングカードゲーム - 要件定義書

## 1. 概要

実在の日本の政治家をモチーフにしたブラウザ対戦カードゲーム。
プレイヤーは政党を選び、政治家カードの特殊能力とオプションカードを駆使して支持率100%を目指す。
先に支持率100%に到達したプレイヤーが**総理大臣**となり勝利。

---

## 2. 基本仕様

| 項目 | 内容 |
|------|------|
| プラットフォーム | Webブラウザ (HTML/CSS/vanilla JS) |
| 対戦形式 | 1対1 CPU対戦 |
| 技術構成 | index.html + style.css + game.js (最小構成) |
| 対象ブラウザ | モダンブラウザ (Chrome, Edge, Firefox) |

---

## 3. コアルール

### 3.1 勝利条件
- **支持率100%** に到達したプレイヤーが「総理大臣」となり勝利
- **支持率0%** になったプレイヤーは「政党解散」となり敗退

### 3.2 支持率
- 初期値: 両プレイヤーとも **30%**
- 下限0%、上限100%
- **通常時は非公開**（自分の支持率も見えない）
- **5ターンごとに「情勢調査」** が発生し、両者の支持率が画面に公開される

### 3.3 政治資金
- 毎ターン自動で **+3億円** 獲得
- 政治家カードの **特殊能力の発動に消費** する
- 上限なし（溜め込む戦略も可能）
- カードを場に出すこと自体にはコスト不要
- オプションカードの使用にもコスト不要

---

## 4. カード設計

### 4.1 カードの種類

ゲームには **政治家カード** と **オプションカード** の2種類がある。

#### 政治家カード
- 場に出して能力を繰り返し発動できる主力カード
- 各政党に5枚ずつ、計15種類

| 要素 | 説明 |
|------|------|
| 名前 | 政治家名 |
| 政党 | 所属政党 |
| 能力名 | 特殊能力の名称 |
| 能力効果 | 特殊能力の内容 |
| 能力コスト | 能力発動に必要な政治資金 |

※攻撃力・防御力・配置コストはなし

#### オプションカード
- 手札から直接使用し、使い切りで効果を発揮するカード
- 政党共通で8種類（各3枚ずつデッキに投入）
- 使用後は捨て札になる（再利用不可）

| 要素 | 説明 |
|------|------|
| カード名 | オプションカードの名称 |
| 効果 | カードの効果内容 |

### 4.2 政治家カード一覧 (3政党 × 5枚 = 15枚)

#### 自民党
| カード名 | 能力名 | 能力効果 | コスト |
|----------|--------|----------|--------|
| S・イシバ | 総裁の威厳 | 自分の支持率+5% | 4億 |
| S・タカイチ | 保守結集 | 自分の場のカード数×2%支持率UP | 3億 |
| S・コイズミ | ポエム演説 | ランダムで支持率+8%か-3% | 2億 |
| T・コウノ | デジタル改革 | 次ターンの資金収入2倍(+3億→+6億) | 3億 |
| Y・スガ | 裏方工作 | 相手の支持率-5% | 5億 |

#### 国民民主党
| カード名 | 能力名 | 能力効果 | コスト |
|----------|--------|----------|--------|
| Y・タマキ | 対案路線 | 相手が前ターンで使った能力の効果を無効化 | 3億 |
| Y・モリ | 政界渡り鳥 | 相手の場のカード1枚の能力を1回コピー使用 | 4億 |
| K・シンバ | 堅実答弁 | 次の相手ターンで受ける支持率減少を半減 | 2億 |
| K・オオツカ | 経済政策 | 政治資金+5億(即時獲得) | 3億 |
| T・イトウ | 子育て支援 | 支持率+3%を2ターン連続で獲得 | 2億 |

#### チームみらい
| カード名 | 能力名 | 能力効果 | コスト |
|----------|--------|----------|--------|
| 未来太郎 | ビジョン宣言 | 支持率+4%、場のカードが3枚なら追加+3% | 3億 |
| 希望花子 | 草の根運動 | 支持率+2% | 1億 |
| 改革一郎 | 構造改革 | 相手の支持率-3%、自分の支持率+3% | 5億 |
| 先進次郎 | テクノ政策 | 相手の場のカード1枚を1ターン能力使用不可にする | 4億 |
| 共生三郎 | 超党派連携 | 自分の全カードの能力コスト-1(そのターンのみ) | 3億 |

### 4.3 オプションカード一覧 (8種類 × 各3枚)

| カード名 | 効果 |
|----------|------|
| 緊急記者会見 | 自分の支持率+2% |
| スキャンダルリーク | 相手の支持率-2% |
| 政治献金パーティー | 政治資金+3億円を即時獲得 |
| 街頭演説 | 支持率+1%。場にカードが2枚以上なら代わりに+3% |
| 国会質問 | 相手の場のカード1枚の能力を次ターン使用不可にする |
| 政策発表 | 自分の支持率+3%。ただし相手の支持率も+1% |
| 内閣改造 | 自分の場の政治家カード1枚を手札に戻し、手札から別の政治家カードを場に出せる |
| 党首討論 | 自分の支持率が相手より低い場合+5%、そうでなければ+1% |

---

## 5. デッキ構築

### 5.1 デッキ構成
- ゲーム開始時にプレイヤーが **1つの政党を選択**
- 選んだ政党の **政治家カード5枚** + **オプションカード24枚**(8種×3枚) で構成
- CPUも同様に政党を選択（プレイヤーと異なる政党）

### 5.2 ゲーム開始時の配置
| 場所 | 内容 |
|------|------|
| 場 | 政治家カード1枚（プレイヤーが選択して裏向きに配置） |
| 山札 | 残りの政治家カード4枚 + オプションカード24枚 = **28枚**（シャッフル） |
| 手札 | 山札から **3枚** ドロー |

---

## 6. ゲームフロー

### 6.1 全体フロー
```
[政党選択画面] → [初期カード選択] → [ゲーム画面(ターン制)] → [勝利/敗北画面]
```

### 6.2 ゲーム開始手順
1. プレイヤーが政党を選択
2. 選択した政党の政治家カード5枚から1枚を選び、場に裏向きで配置
3. 残りのカード（政治家4枚+オプション24枚=28枚）をシャッフルして山札にセット
4. 山札から3枚を手札にドロー
5. 初期政治資金: **3億円**
6. CPU側も同様の手順を自動で実行
7. 双方の準備完了後、場の裏向きカードを同時に表にする
8. 先攻: プレイヤー

### 6.3 ターン構成
```
① 資金フェーズ   : 政治資金+3億円(+ボーナスがあれば加算)
② ドローフェーズ  : 山札から1枚引く(山札が空なら引かない)
③ メインフェーズ  : 以下を好きな順・回数で実行可能
                    - 手札から政治家カードを場に出す(無料)
                    - 場のカードの能力を発動する(資金消費)
                    - 手札のオプションカードを使用する(無料・使い切り)
                    - 何もしない(パス)
④ エンドフェーズ  : ターン終了処理、相手ターンへ切替
```

### 6.4 場のルール
- 場に出せる政治家カードは最大 **3枚**
- 場に出せる政治家カードは **1ターンに1枚**
- 場のカードは永続（除去効果がない限り残る）
- 各カードの能力は **1ターンに1回** のみ発動可能
- オプションカードは **1ターンに1枚** のみ使用可能（場には出さず手札から直接使用）

### 6.5 情勢調査
- **5ターン目、10ターン目、15ターン目...** のエンドフェーズ後に発生
  - ターンのカウントは両プレイヤー合計（先攻1ターン目+後攻1ターン目=2ターン消化）
- 両者の現在の支持率を画面に表示
- 演出後に次のターンへ進行

### 6.6 勝利判定
- いずれかのプレイヤーの支持率が100%以上になった時点で即座に勝利
- いずれかのプレイヤーの支持率が0%以下になった時点で即座に敗退
- ターン中であっても即時判定

---

## 7. CPU(AI)ロジック

### 7.1 基本方針
シンプルなルールベースAI:
1. 手札に政治家カードがあり、場が3枚未満なら場に出す
2. 場のカードの能力を発動可能(資金が足りる)なら、コストの低い順に発動
3. 手札にオプションカードがあれば使用
4. ターン終了

### 7.2 将来的な拡張余地
- 能力の優先度付け（攻撃系 vs 防御系の使い分け）
- 資金の温存判断
- オプションカードの使用タイミング最適化

---

## 8. 画面設計

### 8.1 政党選択画面
```
┌──────────────────────────────┐
│     政党を選んでください       │
│                               │
│  [自民党]  [国民民主党]  [みらい党]  │
│                               │
│  (選択した政党の5枚を表示)     │
│  [ゲーム開始]                  │
└──────────────────────────────┘
```

### 8.2 ゲーム画面
```
┌──────────────────────────────────────┐
│  【CPU】 ○○党  政治資金: ?億円       │
│  支持率: ???                          │
│  場: [カード] [カード]                │
├──────────────────────────────────────┤
│  ターン: 4 / 情勢調査まで: あと1ターン │
├──────────────────────────────────────┤
│  場: [カード] [カード] [カード]        │
│  【あなた】 ○○党  政治資金: 8億円     │
│  支持率: ???                          │
│                                       │
│  手札: [政治家] [オプション] [オプション]│
│              [ターン終了]              │
└──────────────────────────────────────┘
```

### 8.3 情勢調査画面 (オーバーレイ)
```
┌──────────────────────────┐
│      情勢調査結果          │
│                           │
│  あなた:  ██████░░  62%   │
│  CPU:     ████░░░░  45%   │
│                           │
│         [続ける]           │
└──────────────────────────┘
```

### 8.4 勝利/敗北画面
```
┌──────────────────────────┐
│     総理大臣就任！         │
│   支持率100%を達成！       │
│                           │
│      [もう一度遊ぶ]        │
└──────────────────────────┘
```

---

## 9. 実装ステップ

### Step 1: 基盤構築
- HTML/CSSでゲーム画面レイアウト作成
- カードデータ（政治家15枚+オプション8種）をJS内で定義
- ゲーム状態オブジェクト設計(支持率、資金、手札、場、山札、捨て札、ターン数)

### Step 2: ターン進行
- ターン管理(フェーズ制御)
- 政治資金の自動獲得
- プレイヤー/CPUのターン切替

### Step 3: カード操作
- 手札から政治家カードを場に出す
- オプションカードの使用と捨て札処理
- 場・手札・山札の表示更新
- ドロー処理

### Step 4: 能力システム
- 各政治家カードの特殊能力発動処理
- 各オプションカードの効果処理
- 支持率の増減処理
- 能力コスト消費・残高チェック
- 1ターン1回制限の管理

### Step 5: 情勢調査・勝敗
- 5ターンごとの支持率公開演出
- 支持率100%到達→勝利画面
- 支持率0%到達→敗北画面
- 政党選択画面

### Step 6: CPUロジック
- ルールベースAIの実装
- CPUターンの自動進行(少し待機して演出)

---

## 10. 将来的な拡張(スコープ外)
- 政党追加: 参政、維新、中道、れいわ、共産 (各5枚)
- 政党特性の追加
- デッキカスタマイズ（他政党からカードを混ぜる）
- オンライン対戦
- カードのビジュアル・イラスト
- オプションカードの種類追加
