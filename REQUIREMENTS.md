# 政治家トレーディングカードゲーム - 要件定義書

## 1. 概要

実在の日本の政治家をモチーフにしたブラウザ対戦カードゲーム。
プレイヤーは政党を選び、政治家カードの特殊能力とオプションカードを駆使して支持率100%を目指す。
先に支持率100%に到達したプレイヤーが**総理大臣**となり勝利。

---

## 2. 基本仕様

| 項目 | 内容 |
|------|------|
| プラットフォーム | Webブラウザ (HTML/CSS/vanilla JS) |
| 対戦形式 | 1対1 CPU対戦 |
| 技術構成 | index.html + style.css + game.js (最小構成) |
| 対象ブラウザ | モダンブラウザ (Chrome, Edge, Firefox) |

---

## 3. コアルール

### 3.1 勝利条件
- **支持率100%** に到達したプレイヤーが「総理大臣」となり勝利
- **支持率0%** になったプレイヤーは「政党解散」となり敗退
- **25ターン終了時** にどちらも決着していない場合、支持率が高い方が勝利（同率の場合は引き分け）

### 3.2 支持率
- 初期値: 両プレイヤーとも **30%**
- 下限0%、上限100%
- **通常時は非公開**（自分の支持率も見えない）
- **5ターンごとに「情勢調査」** が発生し、両者の支持率が画面に公開される
- 能力やオプションカードの効果で支持率が変動した際は、具体的な数値ではなく **「上がった」「下がった」のみ表示** する

### 3.3 政治資金
- 自分のターン開始時に **+3億円** 獲得（各プレイヤーが自分のターンごとに獲得）
- 政治家カードの **特殊能力の発動に消費** する
- 上限なし（溜め込む戦略も可能）
- カードを場に出すこと自体にはコスト不要
- オプションカードの使用にもコスト不要

### 3.4 手札上限
- 手札の上限は **7枚**
- 手札が7枚を超えた場合、**自分のターン終了時** に超過分を選んで **捨て札** にする

---

## 4. カード設計

### 4.1 カードの種類

ゲームには **政治家カード** と **オプションカード** の2種類がある。

#### 政治家カード
- 場に出して能力を繰り返し発動できる主力カード
- 各政党に5枚ずつ、計15種類
- **各カードは2つの能力** を持ち、自分のターンにどちらか1つを選んで発動可能

| 要素 | 説明 |
|------|------|
| 名前 | 政治家名 |
| 政党 | 所属政党 |
| 能力1 | 名称・効果・コスト |
| 能力2 | 名称・効果・コスト |

※攻撃力・防御力・配置コストはなし

#### オプションカード
- 手札から直接使用し、使い切りで効果を発揮するカード
- 政党共通で14種類（各2枚ずつデッキに投入、計28枚）
- 使用後は捨て札になる（再利用不可）
- 対象を必要とする効果で対象が存在しない場合、**空振り**（カードは消費されるが効果なし）

| 要素 | 説明 |
|------|------|
| カード名 | オプションカードの名称 |
| 効果 | カードの効果内容 |

### 4.2 政治家カード一覧 (3政党 × 5枚 = 15枚)

#### 自民党

**S・イシバ**
| 能力 | 名称 | 効果 | コスト |
|------|------|------|--------|
| 能力1 | 総裁の威厳 | 自分の支持率+8% | 4億 |
| 能力2 | 党内統制 | 相手の支持率-4% | 3億 |

**S・タカイチ**
| 能力 | 名称 | 効果 | コスト |
|------|------|------|--------|
| 能力1 | 保守結集 | 自分の場のカード数×3%支持率UP | 3億 |
| 能力2 | 経済安保 | 支持率+5%、相手の支持率-2% | 5億 |

**S・コイズミ**
| 能力 | 名称 | 効果 | コスト |
|------|------|------|--------|
| 能力1 | ポエム演説 | ランダムで支持率+12%か-5% | 2億 |
| 能力2 | 世襲パワー | 政治資金+4億を即時獲得 | 1億 |

**T・コウノ**
| 能力 | 名称 | 効果 | コスト |
|------|------|------|--------|
| 能力1 | デジタル改革 | 次の自分のターンの資金収入2倍(+3億→+6億) | 3億 |
| 能力2 | SNS発信 | 支持率+5% | 3億 |

**Y・スガ**
| 能力 | 名称 | 効果 | コスト |
|------|------|------|--------|
| 能力1 | 裏方工作 | 相手の支持率-8% | 5億 |
| 能力2 | 官邸主導 | 支持率+4%、相手の支持率-2% | 4億 |

#### 国民民主党

**Y・タマキ**
| 能力 | 名称 | 効果 | コスト |
|------|------|------|--------|
| 能力1 | 対案路線 | 前の相手のターンで使った能力の効果を無効化 | 3億 |
| 能力2 | 手取りを増やす | 政治資金+6億を即時獲得 | 2億 |

**Y・モリ**
| 能力 | 名称 | 効果 | コスト |
|------|------|------|--------|
| 能力1 | 政界渡り鳥 | 相手の場のカードからランダムに1枚選び、その能力を1回コピー使用 | 4億 |
| 能力2 | 多数派工作 | 支持率+6% | 3億 |

**K・シンバ**
| 能力 | 名称 | 効果 | コスト |
|------|------|------|--------|
| 能力1 | 堅実答弁 | 次の相手のターンで受ける支持率減少を半減 | 2億 |
| 能力2 | 幹事長力 | 支持率+5% | 3億 |

**K・オオツカ**
| 能力 | 名称 | 効果 | コスト |
|------|------|------|--------|
| 能力1 | 経済政策 | 政治資金+5億を即時獲得 | 3億 |
| 能力2 | 金融緩和 | 支持率+4%、政治資金+2億 | 4億 |

**T・イトウ**
| 能力 | 名称 | 効果 | コスト |
|------|------|------|--------|
| 能力1 | 子育て支援 | 支持率+5%、次の自分のターン開始時にも自動で+5% | 3億 |
| 能力2 | 教育改革 | 支持率+6% | 3億 |

#### チームみらい

**未来太郎**
| 能力 | 名称 | 効果 | コスト |
|------|------|------|--------|
| 能力1 | ビジョン宣言 | 支持率+6%、場のカードが3枚なら追加+4% | 3億 |
| 能力2 | マニフェスト | 支持率+4% | 2億 |

**希望花子**
| 能力 | 名称 | 効果 | コスト |
|------|------|------|--------|
| 能力1 | 草の根運動 | 支持率+4% | 1億 |
| 能力2 | SNSバズ | 支持率+7% | 3億 |

**改革一郎**
| 能力 | 名称 | 効果 | コスト |
|------|------|------|--------|
| 能力1 | 構造改革 | 相手の支持率-5%、自分の支持率+5% | 5億 |
| 能力2 | 規制緩和 | 支持率+6% | 3億 |

**先進次郎**
| 能力 | 名称 | 効果 | コスト |
|------|------|------|--------|
| 能力1 | テクノ政策 | 相手の場からランダムに1枚選び、次の相手のターンで能力使用不可にする | 4億 |
| 能力2 | AI推進 | 支持率+5% | 3億 |

**共生三郎**
| 能力 | 名称 | 効果 | コスト |
|------|------|------|--------|
| 能力1 | 超党派連携 | 自分の全カードの能力コスト-1(自分のそのターンのみ) | 3億 |
| 能力2 | 多様性推進 | 支持率+4%、相手の支持率-2% | 4億 |

### 4.3 オプションカード一覧 (14種類 × 各2枚 = 28枚)

| カード名 | 説明 | 効果 |
|----------|----------------|------|
| トランプ関税 | 経済パニック  | 両プレイヤーの政治資金が20%没収される。 |
| 記憶にございません | 国会答弁の定番。 | 相手からの支持率低下を一度だけ無効化できるが、効果発動後の自分のターンにドローができない。 |
| 政治献金パーティー | - | 政治資金+5億円を即時獲得 |
| 街頭演説の神対応 | 厳しいヤジをユーモアで返して場を盛り上げる。| 支持率+2%。場にカードが2枚以上なら+5% |
| 一口でおにぎり | 農家への地方視察でおにぎりを頬張る姿が下品に見えるとSNSで拡散。| 自分の支持率-3%。自分の場に女性政治家がいれば更に自分の支持率-5%。ただしおにぎりの産地が注目され、地方団体からの献金で政治資金+5億円を即時獲得 |
| 政党内改革 | - | 自分の場の政治家カード1枚を捨て札にし、手札から別の政治家カードを場に出す（手札に政治家カードがない場合は使用不可。「1ターンに場に出せるのは1枚」の制限外） |
| 党首討論 | - | 自分の支持率が相手より低い場合+7%、そうでなければ+2% |
| 雪国の雪かき | 相手政治家が演説のために歩道の雪を路上に撒き散らす様子がSNSで拡散し炎上。 | 相手の支持率-3% |
| このハゲェー！！ | 相手政治家が秘書に対いて暴言を吐いた録音データがSNSに拡散し炎上。 | 相手の支持率-3%。相手の場に女性政治家がいればイメージダウンで更に相手の支持率-5%。 |
| 寝てない自慢 | 災害の緊急対応で「不眠不休」のアピールをする。 | 自分の支持率+2% |
| マスコミ対策 | - | 次の相手のターンで受ける支持率減少を無効化 |
| 応援演説 | - | 自分の山札の中から政治家カードをランダムで手札に加える。山札に政治家カードが無い場合は効果なし |
| 緊急世論調査 | - | 即座に自分の政党の支持率を確認できる |

---

## 5. デッキ構築

### 5.1 デッキ構成
- ゲーム開始時にプレイヤーが **1つの政党を選択**
- 選んだ政党の **政治家カード5枚** + **オプションカード28枚**(14種×2枚) で構成
- CPUはプレイヤーと異なる政党から **ランダムに選択**

### 5.2 ゲーム開始時の配置
| 場所 | 内容 |
|------|------|
| 場 | 政治家カード1枚（プレイヤーが選択、CPUはランダムに選択して裏向きに配置） |
| 山札 | 残りの政治家カード4枚 + オプションカード28枚 = **32枚**（シャッフル） |
| 手札 | 山札から **3枚** ドロー |

---

## 6. ゲームフロー

### 6.1 全体フロー
```
[政党選択画面] → [初期カード選択] → [ゲーム画面(ターン制・最大25ターン)] → [勝利/敗北/引き分け画面]
```

### 6.2 ゲーム開始手順
1. プレイヤーが政党を選択
2. 選択した政党の政治家カード5枚から1枚を選び、場に裏向きで配置
3. 残りのカード（政治家4枚+オプション28枚=32枚）をシャッフルして山札にセット
4. 山札から3枚を手札にドロー
5. 初期政治資金: **3億円**
6. CPU側も同様の手順を自動で実行（政党・初期カードはランダム選択）
7. 双方の準備完了後、場の裏向きカードを同時に表にする
8. 先攻: プレイヤー

### 6.3 ターンの定義
- **1ターン = 両プレイヤーが1回ずつ行動**（プレイヤーのターン → CPUのターン で1ターン）
- 最大 **25ターン**（各プレイヤー25回ずつ行動）
- 能力テキスト内の「自分のターン」「相手のターン」は各プレイヤーの行動フェーズを指す

### 6.4 ターンの構成（各プレイヤー）
各プレイヤーの自分のターンは以下のフェーズで構成される:
```
① 資金フェーズ   : 政治資金+3億円(+ボーナスがあれば加算)
② ドローフェーズ  : 山札から1枚引く(山札が空なら引かない)
③ メインフェーズ  : 以下を好きな順・回数で実行可能
                    - 手札から政治家カードを場に出す(無料)
                    - 場のカードの能力を発動する(資金消費・2つの能力からどちらか1つ)
                    - 手札のオプションカードを使用する(無料・使い切り)
                    - 何もしない(パス)
④ エンドフェーズ  : 手札が7枚を超えている場合は超過分を選んで捨て札にする
                    ターン終了処理、相手のターンへ切替
```

### 6.5 場のルール
- 場に出せる政治家カードは最大 **3枚**
- 場に出せる政治家カードは **自分のターンに1枚**（「内閣改造」による配置はこの制限外）
- 場のカードは永続（除去効果がない限り残る）
- 各カードは2つの能力を持つが、**自分のターンにどちらか1つのみ** 発動可能
- オプションカードは **自分のターンに1枚** のみ使用可能（場には出さず手札から直接使用）
- 能力発動とオプションカード使用の **順序は自由**（能力を使ってからオプション、またはその逆も可能）

### 6.6 能力発動の操作
- 場の政治家カードの能力をクリックすると **「使用しますか？」** の確認ダイアログが表示される
- **資金が足りない能力はクリック不可**（グレーアウト表示）
- 自分のターンで既に能力を使用済みのカードもクリック不可
- 確認後、資金を消費して能力が発動する

### 6.7 情勢調査
- **5ターンごと**（5, 10, 15, 20, 25ターン目）に、そのターンの終了後に発生（計5回）
- 両者の現在の支持率を画面に表示
- 演出後に次のターンへ進行

### 6.8 勝利判定
- いずれかのプレイヤーの支持率が **100%以上** になった時点で即座に勝利
- いずれかのプレイヤーの支持率が **0%以下** になった時点で即座に敗退
- 自分のターン中であっても即時判定
- **両者同時に100%到達** した場合は **引き分け**
- **両者同時に0%到達** した場合は **引き分け**
- **25ターン終了時** に決着していない場合:
  - 支持率が高い方が勝利
  - 同率の場合は引き分け

---

## 7. CPU(AI)ロジック

### 7.1 基本方針
シンプルなルールベースAI:
1. 手札に政治家カードがあり、場が3枚未満なら場に出す
2. 場のカードの能力を発動可能(資金が足りる)なら、コストの低い順に発動（2つの能力から効果の高い方を選択）
3. 手札にオプションカードがあれば使用
4. 手札が7枚を超えている場合、オプションカードを優先して捨てる
5. ターン終了

### 7.2 将来的な拡張余地
- 能力の優先度付け（攻撃系 vs 防御系の使い分け）
- 資金の温存判断
- オプションカードの使用タイミング最適化
- 25ターン制限を意識した終盤戦略

---

## 8. 画面設計

### 8.1 政党選択画面
```
┌──────────────────────────────┐
│     政党を選んでください       │
│                               │
│  [自民党]  [国民民主党]  [みらい党]  │
│                               │
│  (選択した政党の5枚を表示)     │
│  [ゲーム開始]                  │
└──────────────────────────────┘
```

### 8.2 ゲーム画面
```
┌──────────────────────────────────────────┐
│  【CPU】 ○○党  政治資金: ?億円           │
│  支持率: ???                              │
│  場: [カード] [カード]                    │
├──────────────────────────────────────────┤
│  ターン: 4/25  情勢調査まで: あと1ターン   │
├──────────────────────────────────────────┤
│  場: [カード(能力1|能力2)] [カード] [カード]│
│  【あなた】 ○○党  政治資金: 8億円         │
│  支持率: ???                              │
│                                           │
│  手札: [政治家] [オプション] [オプション]   │
│              [ターン終了]                  │
└──────────────────────────────────────────┘
```

### 8.3 能力確認ダイアログ (オーバーレイ)
```
┌──────────────────────────┐
│  「総裁の威厳」を使用      │
│  しますか？                │
│                           │
│  効果: 自分の支持率+8%     │
│  コスト: 4億円             │
│                           │
│    [使用する]  [やめる]     │
└──────────────────────────┘
```

### 8.4 効果結果表示
```
┌──────────────────────────┐
│  「総裁の威厳」発動！       │
│                           │
│  あなたの支持率が上がった！  │
│                           │
│         [OK]               │
└──────────────────────────┘
```

### 8.5 手札超過時の捨て札選択画面 (オーバーレイ)
```
┌──────────────────────────────┐
│  手札が上限を超えています     │
│  捨てるカードを選んでください │
│  (あと1枚捨てる必要があります) │
│                               │
│  [カード1] [カード2] [カード3] │
│  [カード4] [カード5] [カード6] │
│  [カード7] [カード8]           │
└──────────────────────────────┘
```

### 8.6 情勢調査画面 (オーバーレイ)
```
┌──────────────────────────┐
│      情勢調査結果          │
│                           │
│  あなた:  ██████░░  62%   │
│  CPU:     ████░░░░  45%   │
│                           │
│         [続ける]           │
└──────────────────────────┘
```

### 8.7 勝利画面
```
┌──────────────────────────┐
│     総理大臣就任！         │
│   支持率100%を達成！       │
│                           │
│      [もう一度遊ぶ]        │
└──────────────────────────┘
```

### 8.8 敗北画面
```
┌──────────────────────────┐
│     政党解散...            │
│   支持率が0%になりました    │
│                           │
│      [もう一度遊ぶ]        │
└──────────────────────────┘
```

### 8.9 引き分け画面
```
┌──────────────────────────┐
│     引き分け               │
│   両者互角の戦いでした      │
│                           │
│      [もう一度遊ぶ]        │
└──────────────────────────┘
```

### 8.10 25ターン終了画面
```
┌──────────────────────────┐
│    25ターン終了！           │
│                           │
│  あなた:  68%              │
│  CPU:     55%              │
│                           │
│  あなたの勝利！            │
│      [もう一度遊ぶ]        │
└──────────────────────────┘
```

---

## 9. 実装ステップ

### Step 1: 基盤構築
- HTML/CSSでゲーム画面レイアウト作成
- カードデータ（政治家15枚×能力2つ+オプション14種）をJS内で定義
- ゲーム状態オブジェクト設計(支持率、資金、手札、場、山札、捨て札、ターン数)

### Step 2: ターン進行
- ターン管理(フェーズ制御、25ターン制限)
- 政治資金の自動獲得
- プレイヤー/CPUのターン切替

### Step 3: カード操作
- 手札から政治家カードを場に出す
- オプションカードの使用と捨て札処理
- 場・手札・山札の表示更新
- ドロー処理
- 手札上限7枚の管理と超過時の捨て札選択UI

### Step 4: 能力システム
- 各政治家カードの2つの能力表示と選択UI
- 能力クリック時の確認ダイアログ
- 資金不足時のグレーアウト表示
- 各オプションカードの効果処理
- 支持率の増減処理（結果は「上がった」「下がった」のみ表示）
- 能力コスト消費・残高チェック
- 自分のターンに1回制限の管理

### Step 5: 情勢調査・勝敗
- 5ターンごとの支持率公開演出
- 支持率100%到達→勝利画面
- 支持率0%到達→敗北画面
- 両者同時到達→引き分け画面
- 25ターン終了→支持率比較画面
- 政党選択画面

### Step 6: CPUロジック
- ルールベースAIの実装（能力2つからの選択ロジック含む）
- CPUターンの自動進行(少し待機して演出)
- 政党・初期カードのランダム選択
- 手札超過時の自動捨て札

---

## 10. 将来的な拡張(スコープ外)
- 政党追加: 参政、維新、中道、れいわ、共産 (各5枚)
- 政党特性の追加
- デッキカスタマイズ（他政党からカードを混ぜる）
- オンライン対戦
- カードのビジュアル・イラスト
- オプションカードの種類追加
