# 政治家トレーディングカードゲーム - 要件定義書

## 1. 概要

実在の日本の政治家をモチーフにしたブラウザ対戦カードゲーム。
プレイヤーは政党を選び、政治家カードの特殊能力とオプションカードを駆使して支持率100%を目指す。
先に支持率100%に到達したプレイヤーが**総理大臣**となり勝利。

---

## 2. 基本仕様

| 項目 | 内容 |
|------|------|
| プラットフォーム | Webブラウザ (HTML/CSS/vanilla JS) |
| 対戦形式 | 1対1 CPU対戦 |
| 技術構成 | index.html + style.css + game.js (最小構成) |
| 対象ブラウザ | モダンブラウザ (Chrome, Edge, Firefox) |

---

## 3. コアルール

### 3.1 勝利条件
- **支持率100%** に到達したプレイヤーが「総理大臣」となり勝利
- **支持率0%** になったプレイヤーは「政党解散」となり敗退
- **25ターン終了時** にどちらも決着していない場合、支持率が高い方が勝利（同率の場合は引き分け）

### 3.2 支持率
- 初期値: 両プレイヤーとも **30%**
- 下限0%、上限100%
- **通常時は非公開**（自分の支持率も見えない）
- **5ターンごとに「情勢調査」** が発生し、両者の支持率が画面に公開される
- 能力やオプションカードの効果で支持率が変動した際は、具体的な数値ではなく **「上がった」「下がった」のみ表示** する

### 3.3 政治資金
- 自分のターン開始時に **+3億円** 獲得（各プレイヤーが自分のターンごとに獲得）
- 政治家カードの **特殊能力の発動に消費** する
- 上限なし（溜め込む戦略も可能）
- カードを場に出すこと自体にはコスト不要
- オプションカードの使用にもコスト不要

### 3.4 手札上限
- 手札の上限は **7枚**
- 手札が7枚を超えた場合、**自分のターン終了時** に超過分を選んで **捨て札** にする

---

## 4. カード設計

### 4.1 カードの種類

ゲームには **政治家カード** と **オプションカード** の2種類がある。

#### 政治家カード
- 場に配置し能力を繰り返し発動
- 各政党5枚、計15種類
- 2つの能力から1つを選択して発動（1ターン各カード1回）

**データ構造**: 名前・性別・政党・能力1/2（名称・効果・説明・コスト）

**列の役割**:
- **効果**: 数値効果（カード表示・ダイアログに表示）
- **説明**: フレーバーテキスト（ダイアログのみ表示）

**女性政治家**: S・タカイチ、M・ウシダ、T・イトウ、K・ムトウ

#### オプションカード
- 手札から使用、使い切り
- 全政党共通14種類×2枚＝28枚
- 対象不在時は空振り

**データ構造**: カード名・効果・説明

### 4.2 政治家カード一覧 (3政党 × 5枚 = 15枚)

#### 自民党

**S・イシバ**
| 性別 | 能力 | 名称 | 効果 | 説明 | コスト |
|------|------|------|------|------|--------|
| 男 | 能力1 | 一口でおにぎり | 支持率-5%、政治資金+7億 | おにぎりの産地が注目され、地方団体からの献金 | 0億 |
| | 能力2 | ゲル顔で威嚇 | 相手の支持率-8%、次の相手のターンの能力コスト+1億 | 独特の表情で相手を威圧 | 4億 |

**S・タカイチ**
| 性別 | 能力 | 名称 | 効果 | 説明 | コスト |
|------|------|------|------|------|--------|
| 女 | 能力1 | 早苗ネーム連呼 | 支持率+8%、政治資金-2億 | 自分の名前を連呼して存在感アピール | 2億 |
| | 能力2 | 靖国参拝決行 | 支持率+12%、次の相手のターンの攻撃効果1.5倍 | 保守層に強烈アピール、反発も招く | 5億 |

**S・コイズミ**
| 性別 | 能力 | 名称 | 効果 | 説明 | コスト |
|------|------|------|------|------|--------|
| 男 | 能力1 | セクシー発言 | 支持率+15% or -10% | 「気候変動はセクシーに」などの迷言で物議 | 1億 |
| | 能力2 | レジ袋有料化 | 相手の支持率-5%、自分の支持率-3%、政治資金+6億 | 環境アピールだが不評 | 2億 |

**T・コウノ**
| 性別 | 能力 | 名称 | 効果 | 説明 | コスト |
|------|------|------|------|------|--------|
| 男 | 能力1 | Twitterブロック祭り | 次の相手のターンの攻撃を無効化、支持率-3% | 批判者を片っ端からブロック | 2億 |
| | 能力2 | ハンコ廃止！ | 支持率+9%、次の自分のターンの資金収入+3億 | デジタル化推進で支持獲得 | 4億 |

**Y・スガ**
| 性別 | 能力 | 名称 | 効果 | 説明 | コスト |
|------|------|------|------|------|--------|
| 男 | 能力1 | ガースーです | 支持率+8%（場が1枚以下なら追加+4%） | 独特の自己紹介で親しみアピール | 3億 |
| | 能力2 | パンケーキ会食 | 次の相手のターンの攻撃-4%、政治資金+4億 | メディアと懐柔策 | 2億 |

#### 国民民主党

**Y・タマキ**
| 性別 | 能力 | 名称 | 効果 | 説明 | コスト |
|------|------|------|------|------|--------|
| 男 | 能力1 | 文春砲サバイバル | 支持率-8%、政治資金+10億 | 不倫疑惑報道を乗り越える | 0億 |
| | 能力2 | 手取りを増やす！ | 支持率+10%、政治資金+5億 | 国民の手取りアップを訴求 | 4億 |

**Y・モリ**
| 性別 | 能力 | 名称 | 効果 | 説明 | コスト |
|------|------|------|------|------|--------|
| 男 | 能力1 | 若手のフットワーク | 支持率+9%、次の自分のターンの能力コスト全て-1億 | 身軽に動いて支持獲得 | 3億 |
| | 能力2 | 次世代の星 | 支持率+7%（場が2枚以下なら追加+5%） | 若手ならではのフレッシュさ | 3億 |

**K・シンバ**
| 性別 | 能力 | 名称 | 効果 | 説明 | コスト |
|------|------|------|------|------|--------|
| 男 | 能力1 | 静岡茶で一服 | 政治資金+8億、次の相手のターンの攻撃を50%軽減 | お茶を飲んで一息 | 2億 |
| | 能力2 | 国対の調整力 | 自分の場の全カードの次の自分のターンのコスト-2億、支持率+6% | 水面下の調整で場を整える | 4億 |

**M・ウシダ**
| 性別 | 能力 | 名称 | 効果 | 説明 | コスト |
|------|------|------|------|------|--------|
| 女 | 能力1 | 日銀理論で論破 | 相手の支持率-8%、政治資金+7億 | 経済理論で相手を圧倒 | 5億 |
| | 能力2 | 金融緩和論 | 支持率+8% or -3%、政治資金+4億 | 難しい経済政策を語る | 3億 |

**T・イトウ**
| 性別 | 能力 | 名称 | 効果 | 説明 | コスト |
|------|------|------|------|------|--------|
| 女 | 能力1 | 元アナの美声 | 支持率+10%、次の自分のターン開始時に+4% | 元アナウンサーの滑舌と声で訴求力UP | 4億 |
| | 能力2 | ママ目線の追及 | 支持率+9%、相手の支持率-3% | 子育て世代の代弁で共感 | 4億 |

#### チームみらい

**T・アンノ**
| 性別 | 能力 | 名称 | 効果 | 説明 | コスト |
|------|------|------|------|------|--------|
| 男 | 能力1 | ビジョン宣言 | 支持率+6%（場が3枚なら追加+4%） | 理想的なビジョンを力強く訴える | 3億 |
| | 能力2 | マニフェスト | 支持率+4% | 公約を発表して共感を集める | 2億 |

**S・タカヤマ**
| 性別 | 能力 | 名称 | 効果 | 説明 | コスト |
|------|------|------|------|------|--------|
| 男 | 能力1 | 草の根運動 | 支持率+4% | 地道な草の根活動で支持を広げる | 1億 |
| | 能力2 | SNSバズ | 支持率+7% | SNSで話題を作りバズらせる | 3億 |

**K・ムトウ**
| 性別 | 能力 | 名称 | 効果 | 説明 | コスト |
|------|------|------|------|------|--------|
| 女 | 能力1 | 構造改革 | 相手の支持率-5%、支持率+5% | 既存システムを大胆に改革 | 5億 |
| | 能力2 | 規制緩和 | 支持率+6% | 規制緩和で経済活性化を訴える | 3億 |

**E・スダ**
| 性別 | 能力 | 名称 | 効果 | 説明 | コスト |
|------|------|------|------|------|--------|
| 男 | 能力1 | テクノ政策 | 相手の場のランダム1枚を次の相手のターンで使用不可 | 先進技術で相手の動きを妨害 | 4億 |
| | 能力2 | AI推進 | 支持率+5% | AI活用で社会の効率化を訴える | 3億 |

**Y・ミネシマ**
| 性別 | 能力 | 名称 | 効果 | 説明 | コスト |
|------|------|------|------|------|--------|
| 男 | 能力1 | 超党派連携 | 自分の全カードの能力コスト-1（自分のそのターンのみ） | 超党派で協力して政策を実現 | 3億 |
| | 能力2 | 多様性推進 | 支持率+4%、相手の支持率-2% | 多様性を推進し共感を獲得 | 4億 |

### 4.3 オプションカード一覧 (14種類 × 各2枚 = 28枚)

| カード名 | 説明 | 効果 |
|----------|------|------|
| トランプ関税 | 外圧による経済パニック。 | 両プレイヤーの政治資金が30%没収される |
| 記憶にございません | 国会答弁の定番フレーズで追及をかわす。 | 相手からの支持率低下を一度だけ無効化。ただし効果発動後の自分のターンにドロー不可 |
| 政治献金パーティー | 豪華ホテルの「勉強会」で資金集め。 | 政治資金+8億円を即時獲得 |
| 街頭演説の神対応 | 厳しいヤジをユーモアで返し、聴衆を味方につける。 | 支持率+4%。場にカードが2枚以上なら代わりに+8% |
| ドリル破壊 | 物理的に証拠を消し去る強硬手段。 | 次の支持率が下がるイベントを一度だけスキップ。ただし政治資金-5億 |
| 政党内改革 | 旧弊を打破する「トカゲの尻尾切り」か「刷新」か。 | 自分の場の政治家カード1枚を捨て札にし、手札から別の政治家カードを場に出す（手札に政治家カードがない場合は使用不可。「1ターンに場に出せるのは1枚」の制限外） |
| 党首討論 | 2分割画面で映し出される、言葉の真剣勝負。 | 自分の支持率が相手より低い場合+10%、そうでなければ+4%（判定は内部処理、結果は「上がった」のみ表示） |
| 雪国の雪かき | 演説のため歩道の雪を路上に撒き散らす姿がSNSで炎上。 | 相手の支持率-5% |
| このハゲェー！！ | 秘書への苛烈な暴言録音がSNSで大拡散。 | 相手の支持率-5%。相手の場に女性政治家がいれば更に-7% |
| 寝てない自慢 | 災害の緊急対応で「不眠不休」をアピールし、同情と期待を買う。 | 自分の支持率+4% |
| マスコミ対策 | 記者クラブとの会食や巧妙な情報操作で報道をコントロール。 | 次の相手のターンで受ける支持率減少を無効化 |
| 応援演説 | 「党の顔」がマイクを握り、新たな人材を呼び込む。 | 自分の山札から政治家カードをランダムで1枚手札に加える。山札に政治家カードが無い場合は空振り |
| 緊急世論調査 | リアルタイムの支持率を分析し、戦術を修正する。 | 即座に自分の支持率を確認できる |
| 議員会館不倫 | 議員宿舎での密会がスクープされ、政界に激震。 | 相手の支持率-8%。ただし自分も巻き添えで-3% |

---

## 5. デッキ構築

### 5.1 デッキ構成
- ゲーム開始時にプレイヤーが **1つの政党を選択**
- 選んだ政党の **政治家カード5枚** + **オプションカード28枚**(14種×2枚) で構成
- CPUはプレイヤーと異なる政党から **ランダムに選択**

### 5.2 ゲーム開始時の配置
| 場所 | 内容 |
|------|------|
| 場 | 政治家カード1枚（プレイヤーが選択、CPUはランダムに選択して裏向きに配置） |
| 山札 | 残りの政治家カード4枚 + オプションカード28枚 = **32枚**（シャッフル） |
| 手札 | 山札から **3枚** ドロー |

---

## 6. ゲームフロー

### 6.1 全体フロー
```
[政党選択画面] → [初期カード選択] → [ゲーム画面(ターン制・最大25ターン)] → [勝利/敗北/引き分け画面]
```

### 6.2 ゲーム開始手順
1. プレイヤーが政党を選択
2. 選択した政党の政治家カード5枚から1枚を選び、場に裏向きで配置
3. 残りのカード（政治家4枚+オプション28枚=32枚）をシャッフルして山札にセット
4. 山札から3枚を手札にドロー
5. 初期政治資金: **3億円**
6. CPU側も同様の手順を自動で実行（政党・初期カードはランダム選択）
7. 双方の準備完了後、場の裏向きカードを同時に表にする
8. 先攻: プレイヤー

### 6.3 ターンの定義
- **1ターン = 両プレイヤーが1回ずつ行動**（プレイヤーのターン → CPUのターン で1ターン）
- 最大 **25ターン**（各プレイヤー25回ずつ行動）
- 能力テキスト内の「自分のターン」「相手のターン」は各プレイヤーの行動フェーズを指す

### 6.4 ターンの構成（各プレイヤー）
各プレイヤーの自分のターンは以下のフェーズで構成される:
```
① 資金フェーズ   : 政治資金+3億円(+ボーナスがあれば加算)
② ドローフェーズ  : 山札から1枚引く(山札が空なら引かない)
③ メインフェーズ  : 以下を好きな順・回数で実行可能
                    - 手札から政治家カードを場に出す(無料)
                    - 場のカードの能力を発動する(資金消費・2つの能力からどちらか1つ)
                    - 手札のオプションカードを使用する(無料・使い切り)
                    - 何もしない(パス)
④ エンドフェーズ  : 手札が7枚を超えている場合は超過分を選んで捨て札にする
                    ターン終了処理、相手のターンへ切替
```

### 6.5 場のルール
- 場に出せる政治家カードは最大 **3枚**
- 場に出せる政治家カードは **自分のターンに1枚**（「内閣改造」による配置はこの制限外）
- 場のカードは永続（除去効果がない限り残る）
- 各カードは2つの能力を持つが、**自分のターンにどちらか1つのみ** 発動可能
- オプションカードは **自分のターンに1枚** のみ使用可能（場には出さず手札から直接使用）
- 能力発動とオプションカード使用の **順序は自由**（能力を使ってからオプション、またはその逆も可能）

### 6.6 能力発動の操作
- 場の政治家カードの能力をクリックすると **「使用しますか？」** の確認ダイアログが表示される
- **資金が足りない能力はクリック不可**（グレーアウト表示）
- 自分のターンで既に能力を使用済みのカードもクリック不可
- 確認後、資金を消費して能力が発動する

### 6.7 情勢調査
- **5ターンごと**（5, 10, 15, 20, 25ターン目）に、そのターンの終了後に発生（計5回）
- 両者の現在の支持率を画面に表示
- 演出後に次のターンへ進行

### 6.8 勝利判定
- いずれかのプレイヤーの支持率が **100%以上** になった時点で即座に勝利
- いずれかのプレイヤーの支持率が **0%以下** になった時点で即座に敗退
- 自分のターン中であっても即時判定
- **両者同時に100%到達** した場合は **引き分け**
- **両者同時に0%到達** した場合は **引き分け**
- **25ターン終了時** に決着していない場合:
  - 支持率が高い方が勝利
  - 同率の場合は引き分け

---

## 7. CPU(AI)ロジック

### 7.1 基本方針
シンプルなルールベースAI:
1. 手札に政治家カードがあり、場が3枚未満なら場に出す
2. 場のカードの能力を発動可能(資金が足りる)なら、コストの低い順に発動（2つの能力から効果の高い方を選択）
3. 手札にオプションカードがあれば使用
4. 手札が7枚を超えている場合、オプションカードを優先して捨てる
5. ターン終了

### 7.2 将来的な拡張余地
- 能力の優先度付け（攻撃系 vs 防御系の使い分け）
- 資金の温存判断
- オプションカードの使用タイミング最適化
- 25ターン制限を意識した終盤戦略

---

## 8. 画面設計

**必要画面**:
- **政党選択**: 3政党選択、選択政党の5枚表示、ゲーム開始ボタン
- **ゲーム画面**: CPU情報（政党・資金・支持率・場）、ターン情報（X/25、情勢調査まで）、プレイヤー情報（政党・資金・支持率・場・手札）、ターン終了ボタン
- **能力確認ダイアログ**: 能力名・効果・説明・コスト、使用/キャンセルボタン
- **効果結果表示**: 能力名、「上がった」「下がった」のみ表示、OKボタン
- **手札超過選択**: 超過枚数・カード選択UI
- **情勢調査**: 両者の支持率を棒グラフ表示、続けるボタン
- **勝敗画面**: 勝利/敗北/引き分け/25ターン終了の結果表示、もう一度遊ぶボタン

---

## 9. 実装ステップ

### Step 1: 基盤構築
- HTML/CSSでゲーム画面レイアウト作成
- カードデータ（政治家15枚×能力2つ+オプション14種）をJS内で定義
- ゲーム状態オブジェクト設計(支持率、資金、手札、場、山札、捨て札、ターン数)

### Step 2: ターン進行
- ターン管理(フェーズ制御、25ターン制限)
- 政治資金の自動獲得
- プレイヤー/CPUのターン切替

### Step 3: カード操作
- 手札から政治家カードを場に出す
- オプションカードの使用と捨て札処理
- 場・手札・山札の表示更新
- ドロー処理
- 手札上限7枚の管理と超過時の捨て札選択UI

### Step 4: 能力システム
- 各政治家カードの2つの能力表示と選択UI
- 能力クリック時の確認ダイアログ
- 資金不足時のグレーアウト表示
- 各オプションカードの効果処理
- 支持率の増減処理（結果は「上がった」「下がった」のみ表示）
- 能力コスト消費・残高チェック
- 自分のターンに1回制限の管理

### Step 5: 情勢調査・勝敗
- 5ターンごとの支持率公開演出
- 支持率100%到達→勝利画面
- 支持率0%到達→敗北画面
- 両者同時到達→引き分け画面
- 25ターン終了→支持率比較画面
- 政党選択画面

### Step 6: CPUロジック
- ルールベースAIの実装（能力2つからの選択ロジック含む）
- CPUターンの自動進行(少し待機して演出)
- 政党・初期カードのランダム選択
- 手札超過時の自動捨て札

---

## 10. 将来的な拡張(スコープ外)
- 政党追加: 参政、維新、中道、れいわ、共産 (各5枚)
- 政党特性の追加
- デッキカスタマイズ（他政党からカードを混ぜる）
- オンライン対戦
- カードのビジュアル・イラスト
- オプションカードの種類追加
